import { component$, Slot } from "@builder.io/qwik";
import { useLocation } from "@builder.io/qwik-city";
import { Header } from "~/components/header/header";
import { Footer } from "~/components/footer/footer";

export interface NavProps {}

export const Nav = component$<NavProps>(() => {
  const location = useLocation();

  // Pages with hero sections (transparent header with white text)
  // - Home page: /en-US, /it-IT, etc.
  // - About us: /en-US/about-us
  // - Activity detail: /en-US/activities/[slug] (has slug after activities)
  const pathname = location.url.pathname;
  const pathParts = pathname.split('/').filter(Boolean);

  // Check if page has a hero
  const hasHero =
    // Home page (just language code)
    pathParts.length === 1 ||
    // About us page
    pathname.includes('/about-us') ||
    // Activity detail page (has slug after activities, not just /activities/)
    (pathname.includes('/activities/') && pathParts.length >= 3 && pathParts[pathParts.length - 1] !== 'activities');

  return (
    <div class="min-h-screen front" data-theme="light">
      <svg width="0" height="0" style="display: none;">
        <symbol id="rihigo-logo" viewBox="0 0 1031 182">
          <path
            d="M15.1979 165.99C10.2152 165.99 6.5119 164.037 4.08791 160.132C1.6639 156.092 0.451904 148.82 0.451904 138.316C0.451904 124.849 1.6639 111.585 4.08791 98.522C6.64657 85.4593 10.2152 73.2047 14.7939 61.758C19.5072 50.3113 25.1632 40.2787 31.7619 31.66C38.4952 22.9067 46.1039 16.106 54.5879 11.258C63.0719 6.27534 72.2966 3.78401 82.2619 3.78401C97.0752 3.78401 108.051 7.75668 115.188 15.702C122.46 23.5127 126.096 35.0267 126.096 50.244C126.096 58.324 124.48 65.5287 121.248 71.858C118.016 78.0527 113.774 82.968 108.522 86.604C103.405 90.1053 97.8832 91.856 91.9579 91.856C88.5912 91.856 85.0226 91.25 81.2519 90.038C88.5239 99.4647 95.7959 107.679 103.068 114.682C110.475 121.685 117.814 128.149 125.086 134.074C132.493 139.865 139.899 145.79 147.306 151.85C151.211 154.947 153.433 158.247 153.972 161.748C154.511 165.249 153.568 168.212 151.144 170.636C148.855 173.195 145.286 174.474 140.438 174.474C136.667 174.474 131.887 172.791 126.096 169.424C120.305 166.192 114.043 161.815 107.31 156.294C100.577 150.638 93.8432 144.376 87.1099 137.508C80.5112 130.64 74.4512 123.637 68.9299 116.5C63.5432 109.363 59.1666 102.562 55.7999 96.098C52.5679 89.634 50.9519 84.1127 50.9519 79.534C50.9519 75.2247 52.0966 71.9253 54.3859 69.636C56.6752 67.212 59.6379 66 63.2739 66C66.2366 66 68.9299 66.404 71.3539 67.212C73.9126 68.02 76.6059 68.424 79.4339 68.424C82.3966 68.424 85.4939 67.616 88.7259 66C92.0926 64.384 94.9206 61.8927 97.2099 58.526C99.4992 55.0247 100.644 50.5807 100.644 45.194C100.644 39.2687 98.9606 35.296 95.5939 33.276C92.3619 31.256 87.9852 30.246 82.4639 30.246C74.7879 30.246 67.8526 32.9393 61.6579 38.326C55.4632 43.7127 50.0766 51.3213 45.4979 61.152C40.9192 70.9827 37.2159 82.564 34.3879 95.896C31.6946 109.228 29.8766 123.772 28.9339 139.528C28.3952 149.763 27.0486 156.765 24.8939 160.536C22.7392 164.172 19.5072 165.99 15.1979 165.99Z"
            fill="currentColor"
          />
          <path
            d="M228.688 59.132C222.224 59.132 217.646 58.4587 214.952 57.112C212.259 55.7653 210.643 54.1493 210.104 52.264C209.566 50.3787 209.296 48.7627 209.296 47.416C209.296 47.2813 209.296 47.214 209.296 47.214C209.296 44.2513 210.643 41.4233 213.336 38.73C216.03 35.902 219.8 33.9493 224.648 32.872C228.688 32.064 233.469 31.256 238.99 30.448C244.646 29.5053 250.572 28.6973 256.766 28.024C263.096 27.216 269.156 26.61 274.946 26.206C280.737 25.802 285.854 25.6 290.298 25.6C296.224 25.6 300.802 26.4753 304.034 28.226C307.266 29.842 309.488 31.7273 310.7 33.882C312.047 36.0367 312.72 37.8547 312.72 39.336C312.72 40.6827 312.384 42.0293 311.71 43.376C311.037 44.7227 309.354 46.0693 306.66 47.416C304.102 48.7627 299.994 50.042 294.338 51.254C288.682 52.466 280.872 53.6107 270.906 54.688C269.964 54.8227 268.954 54.9573 267.876 55.092C266.934 60.8827 265.789 67.818 264.442 75.898C263.096 83.8433 261.614 92.1927 259.998 100.946C258.517 109.565 257.036 117.847 255.554 125.792C254.208 133.603 252.996 140.269 251.918 145.79C257.44 145.251 262.288 144.847 266.462 144.578C270.772 144.309 273.667 144.174 275.148 144.174C279.862 144.174 283.094 145.184 284.844 147.204C286.595 149.089 287.47 151.581 287.47 154.678C287.47 155.89 285.316 157.775 281.006 160.334C276.697 162.893 270.704 165.653 263.028 168.616C255.487 171.579 246.801 174.205 236.97 176.494C230.506 177.975 224.11 179.12 217.78 179.928C211.451 180.736 206.872 181.14 204.044 181.14C198.523 181.14 194.954 180.13 193.338 178.11C191.857 176.09 191.116 173.531 191.116 170.434C191.116 167.741 191.924 164.98 193.54 162.152C195.291 159.324 197.715 157.304 200.812 156.092C204.044 154.88 207.613 153.735 211.518 152.658C215.424 151.581 219.464 150.638 223.638 149.83C223.908 146.329 224.446 141.683 225.254 135.892C226.062 130.101 226.938 123.772 227.88 116.904C228.958 109.901 230.035 102.831 231.112 95.694C232.324 88.422 233.469 81.6213 234.546 75.292C235.758 68.828 236.768 63.2393 237.576 58.526C233.671 58.93 230.708 59.132 228.688 59.132Z"
            fill="currentColor"
          />
          <path
            d="M367.773 163.768C367.773 163.768 367.706 163.768 367.571 163.768C365.416 163.768 363.262 163.431 361.107 162.758C358.952 162.085 357.202 160.132 355.855 156.9C354.508 153.533 353.835 147.877 353.835 139.932C353.835 134.411 354.576 127.677 356.057 119.732C357.538 111.787 359.424 103.235 361.713 94.078C364.137 84.786 366.763 75.5613 369.591 66.404C372.419 57.2467 375.112 48.6953 377.671 40.75C380.364 32.8047 382.721 26.004 384.741 20.348C386.896 14.692 388.444 10.9213 389.387 9.036C390.33 6.74667 391.878 4.79401 394.033 3.178C396.322 1.42734 398.679 0.552002 401.103 0.552002C406.086 0.552002 409.318 1.89867 410.799 4.59201C412.28 7.15068 413.021 9.97868 413.021 13.076C413.021 15.7693 411.876 22.0313 409.587 31.862C407.298 41.558 403.662 55.8327 398.679 74.686C409.991 73.878 421.572 72.8007 433.423 71.454C445.408 70.1073 455.98 68.828 465.137 67.616C467.292 59.536 469.379 52.062 471.399 45.194C473.419 38.1913 475.17 32.3333 476.651 27.62C478.132 22.772 479.142 19.54 479.681 17.924C481.836 12.9413 484.125 9.50734 486.549 7.62201C489.108 5.73667 491.734 4.79401 494.427 4.79401C497.928 4.79401 500.891 5.93868 503.315 8.22801C505.874 10.3827 507.153 14.0187 507.153 19.136C507.153 22.368 506.278 28.3607 504.527 37.114C502.776 45.8673 500.622 55.7653 498.063 66.808C500.083 68.1547 501.834 69.7707 503.315 71.656C504.931 73.5413 505.739 75.292 505.739 76.908C505.739 79.0627 505.2 81.15 504.123 83.17C503.18 85.0553 501.026 86.7387 497.659 88.22C496.716 88.624 495.033 89.0953 492.609 89.634C490.05 100.003 487.559 109.969 485.135 119.53C482.846 128.957 480.893 137.037 479.277 143.77C477.661 150.369 476.718 154.611 476.449 156.496C475.641 161.479 474.16 165.653 472.005 169.02C469.85 172.521 466.551 174.272 462.107 174.272C458.74 174.272 455.98 172.723 453.825 169.626C451.67 166.529 450.593 160.199 450.593 150.638C450.593 143.501 451.334 135.219 452.815 125.792C454.296 116.231 456.114 106.467 458.269 96.502C448.169 98.118 437.261 99.532 425.545 100.744C413.829 101.821 402.382 102.293 391.205 102.158C387.3 117.375 384.068 129.495 381.509 138.518C379.085 147.541 376.863 154.005 374.843 157.91C372.823 161.815 370.466 163.768 367.773 163.768Z"
            fill="currentColor"
          />
          <path
            d="M591.854 59.132C585.39 59.132 580.812 58.4587 578.118 57.112C575.425 55.7653 573.809 54.1493 573.27 52.264C572.732 50.3787 572.462 48.7627 572.462 47.416C572.462 47.2813 572.462 47.214 572.462 47.214C572.462 44.2513 573.809 41.4233 576.502 38.73C579.196 35.902 582.966 33.9493 587.814 32.872C591.854 32.064 596.635 31.256 602.156 30.448C607.812 29.5053 613.738 28.6973 619.932 28.024C626.262 27.216 632.322 26.61 638.112 26.206C643.903 25.802 649.02 25.6 653.464 25.6C659.39 25.6 663.968 26.4753 667.2 28.226C670.432 29.842 672.654 31.7273 673.866 33.882C675.213 36.0367 675.886 37.8547 675.886 39.336C675.886 40.6827 675.55 42.0293 674.876 43.376C674.203 44.7227 672.52 46.0693 669.826 47.416C667.268 48.7627 663.16 50.042 657.504 51.254C651.848 52.466 644.038 53.6107 634.072 54.688C633.13 54.8227 632.12 54.9573 631.042 55.092C630.1 60.8827 628.955 67.818 627.608 75.898C626.262 83.8433 624.78 92.1927 623.164 100.946C621.683 109.565 620.202 117.847 618.72 125.792C617.374 133.603 616.162 140.269 615.084 145.79C620.606 145.251 625.454 144.847 629.628 144.578C633.938 144.309 636.833 144.174 638.314 144.174C643.028 144.174 646.26 145.184 648.01 147.204C649.761 149.089 650.636 151.581 650.636 154.678C650.636 155.89 648.482 157.775 644.172 160.334C639.863 162.893 633.87 165.653 626.194 168.616C618.653 171.579 609.967 174.205 600.136 176.494C593.672 177.975 587.276 179.12 580.946 179.928C574.617 180.736 570.038 181.14 567.21 181.14C561.689 181.14 558.12 180.13 556.504 178.11C555.023 176.09 554.282 173.531 554.282 170.434C554.282 167.741 555.09 164.98 556.706 162.152C558.457 159.324 560.881 157.304 563.978 156.092C567.21 154.88 570.779 153.735 574.684 152.658C578.59 151.581 582.63 150.638 586.804 149.83C587.074 146.329 587.612 141.683 588.42 135.892C589.228 130.101 590.104 123.772 591.046 116.904C592.124 109.901 593.201 102.831 594.278 95.694C595.49 88.422 596.635 81.6213 597.712 75.292C598.924 68.828 599.934 63.2393 600.742 58.526C596.837 58.93 593.874 59.132 591.854 59.132Z"
            fill="currentColor"
          />
          <path
            d="M751.923 167C743.843 167 736.167 165.249 728.895 161.748C721.758 158.112 715.9 152.995 711.321 146.396C706.877 139.663 704.655 131.785 704.655 122.762C704.655 113.874 706.541 105.053 710.311 96.3C714.082 87.412 718.997 78.8607 725.057 70.646C731.252 62.2967 737.918 54.5533 745.055 47.416C752.327 40.2787 759.397 34.084 766.265 28.832C773.268 23.4453 779.463 19.2707 784.849 16.308C790.371 13.2107 794.411 11.662 796.969 11.662C799.663 11.662 802.423 12.8067 805.251 15.096C808.079 17.3853 809.561 20.6847 809.695 24.994C809.695 26.8793 809.157 29.034 808.079 31.458C807.002 33.882 804.511 36.306 800.605 38.73C797.239 40.75 792.727 43.7127 787.071 47.618C781.55 51.5233 775.692 56.102 769.497 61.354C763.303 66.606 757.378 72.464 751.721 78.928C746.2 85.2573 741.689 91.9907 738.188 99.128C734.686 106.265 732.935 113.605 732.935 121.146C732.935 127.341 734.753 132.054 738.389 135.286C742.025 138.383 746.941 139.932 753.135 139.932C757.445 139.932 762.562 138.72 768.487 136.296C774.547 133.872 780.742 130.775 787.071 127.004C793.401 123.099 799.191 118.924 804.443 114.48C809.83 110.036 814.005 105.794 816.967 101.754C811.85 102.831 806.194 104.043 799.999 105.39C793.939 106.602 788.283 107.679 783.031 108.622C777.779 109.43 774.009 109.834 771.719 109.834C767.679 109.834 764.313 109.026 761.619 107.41C758.926 105.794 756.906 103.909 755.559 101.754C754.213 99.4647 753.539 97.31 753.539 95.29C753.539 93.0007 754.415 90.644 756.165 88.22C757.916 85.796 760.946 84.2473 765.255 83.574C768.083 83.17 771.921 82.564 776.769 81.756C781.617 80.8133 786.667 79.938 791.919 79.13C797.306 78.1873 802.221 77.3793 806.665 76.706C811.244 76.0327 814.678 75.696 816.967 75.696C833.935 75.696 842.419 85.19 842.419 104.178C842.419 107.814 840.534 112.325 836.763 117.712C832.993 122.964 827.875 128.485 821.411 134.276C815.082 139.932 807.945 145.251 799.999 150.234C792.054 155.217 783.907 159.257 775.557 162.354C767.343 165.451 759.465 167 751.923 167Z"
            fill="currentColor"
          />
          <path
            d="M946.885 171.848C936.65 171.848 927.56 169.222 919.615 163.97C911.67 158.718 905.408 151.446 900.829 142.154C896.385 132.727 894.163 121.954 894.163 109.834C894.163 100.811 895.981 92.058 899.617 83.574C903.253 74.9553 907.293 67.414 911.737 60.95C911.198 58.93 910.929 56.4387 910.929 53.476C910.929 49.84 912.41 45.6653 915.373 40.952C918.336 36.2387 922.443 31.66 927.695 27.216C933.082 22.772 939.344 19.0687 946.481 16.106C953.753 13.1433 961.631 11.662 970.115 11.662C983.312 11.662 994.422 14.3553 1003.45 19.742C1012.47 25.1287 1019.27 32.1987 1023.85 40.952C1028.56 49.7053 1030.92 59.1993 1030.92 69.434C1030.92 84.2473 1028.49 97.916 1023.65 110.44C1018.8 122.964 1012.33 133.805 1004.25 142.962C996.173 152.119 987.15 159.257 977.185 164.374C967.22 169.357 957.12 171.848 946.885 171.848ZM949.309 45.194C949.444 45.598 949.511 46.002 949.511 46.406C949.511 47.7527 949.242 49.234 948.703 50.85C948.164 52.3313 947.087 53.8127 945.471 55.294C942.778 57.9873 940.084 61.758 937.391 66.606C934.698 71.3193 932.206 76.5713 929.917 82.362C927.762 88.1527 926.012 94.078 924.665 100.138C923.318 106.198 922.645 111.989 922.645 117.51C922.645 125.051 924.396 131.313 927.897 136.296C931.533 141.279 937.189 143.77 944.865 143.77C951.329 143.77 957.456 142.289 963.247 139.326C969.038 136.229 974.357 132.121 979.205 127.004C984.053 121.752 988.228 115.961 991.729 109.632C995.23 103.168 997.924 96.6367 999.809 90.038C1001.83 83.3047 1002.84 76.908 1002.84 70.848C1002.84 65.192 1001.63 59.94 999.203 55.092C996.914 50.244 993.547 46.3387 989.103 43.376C984.659 40.2787 979.138 38.73 972.539 38.73C967.691 38.73 963.314 39.336 959.409 40.548C955.638 41.76 952.272 43.3087 949.309 45.194Z"
            fill="currentColor"
          />
        </symbol>
      </svg>
      <Header hasHero={hasHero} />
      <Slot />
      <Footer />
    </div>
  );
});
